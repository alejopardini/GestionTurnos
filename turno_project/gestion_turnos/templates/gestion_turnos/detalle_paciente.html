{% extends 'base.html' %}

{% block title %}Detalles del Paciente{% endblock %}

{% block content %}
  <div class="container mt-4">
    <h1>Detalles del Paciente</h1>
    <table class="table table-bordered">
      <tr>
        <th>Nombre</th>
        <td>{{ paciente.nombre }}</td>
      </tr>
      <tr>
        <th>Tel√©fono</th>
        <td>{{ paciente.telefono }}</td>
      </tr>
      <tr>
        <th>Email</th>
        <td>{{ paciente.email }}</td>
      </tr>
      <tr>
        <th>Historial</th>
        <td>{{ paciente.historial }}</td>
      </tr>
      <tr>
        <th>Archivo</th>
        <td>
          {% if paciente.archivo %}
            <a href="{{ paciente.archivo.url }}" target="_blank" class="btn btn-info">Ver archivo</a>
          {% else %}
            No hay archivo
          {% endif %}
        </td>
      </tr>
    </table>
    <a href="{% url 'listar_pacientes' %}" class="btn btn-secondary">Volver a la lista</a>
  </div>
{% endblock %}

<script>
    document.addEventListener('DOMContentLoaded', function() {
      var links = document.querySelectorAll('.btn-info');
      links.forEach(function(link) {
        link.addEventListener('click', function(event) {
          event.preventDefault();
          var url = this.getAttribute('href');
          var width = 800;
          var height = 600;
          var left = (window.innerWidth / 2) - (width / 2);
          var top = (window.innerHeight / 2) - (height / 2);
          window.open(url, 'Archivo', 'width=' + width + ',height=' + height + ',top=' + top + ',left=' + left);
        });
      });
    });
  </script>